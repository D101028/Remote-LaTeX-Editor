<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- 禁用縮放 -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Online LaTeX Editor</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <link rel="stylesheet" href="/static/css/editor.css">
</head>
<body>
  <div class="nav-container">
    <div class="nav-left"></div>
    <div class="nav-right">
      <svg id="loading-svg"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 100 100" 
        preserveAspectRatio="xMidYMid" 
        xmlns:xlink="http://www.w3.org/1999/xlink"
        width="30px", height="30px">
        <g>
          <circle stroke-dasharray="164.93361431346415 56.97787143782138" r="35" stroke-width="10" stroke="#e15b64" fill="none" cy="50" cx="50">
          </circle><g></g>
        </g><!-- [ldio] generated by https://loading.io -->
      </svg>
      <div id="save-and-compile-btn">Save and Compile</div>
    </div>
  </div>
  <div class="inner-container">
    <div id="editor"></div>
    <div id="divider-container">
      <div id="divider"></div>
      <?xml version="1.0" encoding="iso-8859-1"?>
      <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
      <svg id="divider-right-arrow" fill="#000000" version="1.1"
          xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <defs>
          <!-- 定義圓形路徑作為剪裁區域 -->
          <clipPath id="circle-clip">
            <circle cx="256" cy="256" r="229" />
          </clipPath>
        </defs>

        <!-- 使用 clipPath 限定塗色區域：只會在圓內上色 -->
        <g clip-path="url(#circle-clip)">
          <!-- 圓圈內的填色背景 -->
          <rect width="100%" height="100%" id="class-bg-rect-right" />

          <!-- 外圈圓形 -->
          <circle cx="256" cy="256" r="229" fill="none" stroke="white" stroke-width="50" style="pointer-events: none;" />

          <!-- 向右的箭頭 -->
          <path d="M369.28,247.467l-181.653-133.44c-4.693-3.627-11.307-2.773-14.933,1.92c-3.627,4.693-2.773,11.307,1.92,14.933
            c0.107,0.107,0.32,0.213,0.427,0.32L344.96,256L175.04,380.693c-4.8,3.52-5.76,10.133-2.24,14.933
            c3.52,4.8,10.133,5.76,14.933,2.24L369.387,264.64c4.8-3.52,5.76-10.133,2.24-14.933
            C370.88,248.853,370.133,248.107,369.28,247.467z" fill="white" style="pointer-events: none;"/>
        </g>
      </svg>
      <svg id="divider-left-arrow" fill="#000000" version="1.1"
          xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
        <defs>
          <!-- 定義圓形剪裁區域 -->
          <clipPath id="circle-clip">
            <circle cx="256" cy="256" r="229" />
          </clipPath>
        </defs>

        <!-- 限定圓形內上色，外部透明 -->
        <g clip-path="url(#circle-clip)">
          <!-- 圓圈內的背景色 -->
          <rect width="100%" height="100%" id="class-bg-rect-left" />

          <!-- 外圈圓形 -->
          <circle cx="256" cy="256" r="229" fill="none" stroke="white" stroke-width="50" style="pointer-events: none;" />
          
          <!-- 向左的箭頭 -->
          <path d="M142.72,264.533l181.653,133.44c4.693,3.627,11.307,2.773,14.933-1.92
                  c3.627-4.693,2.773-11.307-1.92-14.933c-0.107-0.107-0.32-0.213-0.427-0.32L167.04,256
                  l169.92-124.693c4.8-3.52,5.76-10.133,2.24-14.933c-3.52-4.8-10.133-5.76-14.933-2.24
                  L142.613,247.36c-4.8,3.52-5.76,10.133-2.24,14.933C141.12,263.147,141.867,263.893,142.72,264.533z" fill="white" style="pointer-events: none;"/>
        </g>
      </svg>
    </div>
    <div id="preview">
      <iframe 
        src="/static/pdfjs/web/viewer.html?file=/fetch_pdf" 
        id="pdf-iframe">
      </iframe>
    </div>
  </div>

  <!-- Tex Content -->
  <script id="init-tex-contents" type="application/json">
  {{ tex_contents | tojson }}
  </script>
  
  <!-- Monaco Editor -->
  <script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>

  <script src="/static/js/editor.js"></script>
  
  <script src="/static/js/editor-drag.js"></script>

  <script id="resize-script" src="/static/js/editor-mobile.js"></script>
</body>
</html>
